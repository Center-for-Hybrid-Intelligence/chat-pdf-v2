"use strict";(self["webpackChunkchat_pdf"]=self["webpackChunkchat_pdf"]||[]).push([[928],{8791:function(e,t,l){l.r(t),l.d(t,{default:function(){return je}});var o=l(6252),s=l(3577);const a=e=>((0,o.dD)("data-v-66d5fa24"),e=e(),(0,o.Cn)(),e),n={class:"bg-gradient-to-b to-gray-50 min-h-screen from-blue-200 flex flex-col items-center max-w-screen"},r={class:"flex min-h-screen h-screen grid grid-cols-3"},i={class:"col-span-1 flex flex-col h-full"},d={class:"flex flex-wrap justify-center h-[50%] p-6"},u=a((()=>(0,o._)("span",{class:"text-3xl leading-none"},"+",-1))),c={class:"w-full overflow-y-scroll h-52 py-2 grid grid-cols-2 k15:grid-cols-1 gap-x-2 gap-y-2"},p={class:"flex gap-2 py-2 bg-blue-50 h-fit px-2 pr-8 items-center shadow-md rounded-full"},g=a((()=>(0,o._)("div",{class:"w-5 h-5"},[(0,o._)("svg",{class:"w-5 h-5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 20"},[(0,o._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.828 10h6.239m-6.239 4h6.239M6 1v4a1 1 0 0 1-1 1H1m14-4v16a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2Z"})])],-1))),v={class:"flex flex-col justify-center w-full"},h={class:"text-start break-words",style:{display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",overflow:"hidden","text-overflow":"ellipsis"}},w={key:0,class:"flex align-middle h-full gap-2"},m={class:"flex-col gap-4 pb-2 px-6 flex justify-between"},f={class:"w-full"},y={class:"w-full bg-[#001529] text-gray-300 rounded-lg p-4"},x={class:"heading3 flex"},b={class:"w-8"},k=a((()=>(0,o._)("h1",{class:"normalText"},"The closer temperature gets to 0 (zero) the more rational the answers will be, while the higher the value of the temperature, the more creative they get. ",-1))),_=["value"],D={class:"flex-col w-full mt-4 items-stretch bg-[#001529] text-gray-300 rounded-lg p-4"},C=a((()=>(0,o._)("h1",{class:"heading3"}," Model used ",-1))),H=a((()=>(0,o._)("h1",{class:"normalText"},"Different models interpret text differently. ",-1))),q={class:"bg-[#001529] rounded-lg p-2"},A={class:"col-span-2 max-h-screen shadow-xl"},S={class:"bg-white rounded-xl h-full flex flex-col items-center justify-center"},I=a((()=>(0,o._)("div",{class:"bg-slate-100 p-2 w-full h-fit"}," Ask ChatPDF any question about the provided PDF files ",-1))),B={class:"max-w-3xl w-full h-full flex justify-between flex-col"},F={class:"h-full overflow-auto p-2"},z={class:"h-fit ml-auto shadow-md max-w-[70%] !bg-blue-500 text-white w-fit bg-slate-200 rounded-lg p-2 my-4 text-start"},T={class:"h-fit max-w-[70%] shadow-md relative w-fit bg-slate-100 rounded-lg p-2 my-4 text-start"},j={key:0,class:"loading"},L={class:"normalText px-4 w-full h-fit mt-auto"},M={class:"p-2 bg-white flex"},K={key:0},P={key:1},O={key:0,class:"loading"};function E(e,t,l,a,E,Z){const W=(0,o.up)("DropdownSingle"),Y=(0,o.up)("TextArea"),U=(0,o.up)("ArrowIcon"),V=(0,o.up)("Button");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[(0,o._)("div",i,[(0,o._)("div",d,[(0,o._)("div",{class:"rounded-full h-fit hover:bg-blue-100 transition-all duration-200 border border-[#001529] hover:bg-opacity-90 shadow-md w-full flex items-center text-center gap-2 justify-center cursor-pointer p-2 px-4",onClick:t[0]||(t[0]=(...e)=>a.goHome&&a.goHome(...e))},[(0,o.Uk)(" Start a new chat "),u]),(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.files,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"w-full"},[(0,o._)("div",p,[g,(0,o._)("div",v,[(0,o._)("h1",h,(0,s.zw)(e.title),1),e.author?((0,o.wg)(),(0,o.iD)("div",w,(0,s.zw)(e.author),1)):(0,o.kq)("",!0)])])])))),128))])]),(0,o._)("div",m,[(0,o._)("div",f,[(0,o._)("div",y,[(0,o._)("h1",x,[(0,o.Uk)(" Temperature ( "),(0,o._)("div",b,(0,s.zw)(a.settings.llm_temperature),1),(0,o.Uk)(" / 5) ")]),k,(0,o._)("input",{min:"0",max:"5",step:"0.1",type:"range",value:a.settings.llm_temperature,onInput:t[1]||(t[1]=(...e)=>a.tempChange&&a.tempChange(...e)),class:"slider w-full mt-4",id:"weightSlider"},null,40,_)]),(0,o._)("div",D,[C,H,(0,o.Wm)(W,{class:"mt-4 flex",items:["gpt-3.5-turbo","gpt-4"],selected:a.settings.llm_model,onSelect:a.modelChange},null,8,["selected","onSelect"])])]),(0,o._)("div",q,[(0,o.Wm)(Y,{ref:"question",placeholder:"Write a system prompt here",isDisabled:a.loading,value:a.systemPrompt,onInput:a.onSystemPromptChange},null,8,["isDisabled","value","onInput"])])])]),(0,o._)("div",A,[(0,o._)("div",S,[I,(0,o._)("div",B,[(0,o._)("div",F,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.chat,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",z,[(0,o._)("h1",null,(0,s.zw)(a.chat[t]),1)]),(0,o._)("div",T,[a.loading?((0,o.wg)(),(0,o.iD)("div",j,"Loading…")):(0,o.kq)("",!0),(0,o._)("h1",null,(0,s.zw)(a.questionList.answers[t]),1)])])))),128))]),(0,o._)("h1",L,(0,s.zw)(a.error),1),(0,o._)("div",M,[(0,o.Wm)(Y,{ref:"question",placeholder:"Write your text here",isDisabled:a.loading,onInput:a.onChange,class:"w-full !rounded-r-none"},null,8,["isDisabled","onInput"]),(0,o.Wm)(V,{isDisabled:a.loading,class:"text-white rounded-r-lg !bg-blue-500",onClick:a.sendRequest},{right:(0,o.w5)((()=>[a.loading?((0,o.wg)(),(0,o.iD)("div",K,"Loading results")):((0,o.wg)(),(0,o.iD)("div",P,[(0,o.Wm)(U)]))])),_:1},8,["isDisabled","onClick"])])])])]),a.loading?((0,o.wg)(),(0,o.iD)("div",O,"Loading…")):(0,o.kq)("",!0)])])}l(560);var Z=l(9963);const W={class:"textArea w-full h-full"},Y={key:0,class:"mb-2 block text-sm font-medium"},U=["id","value","placeholder","tabindex","disabled"],V={key:1,class:"w-full pt-1 pl-2 text-xs text-red-500"};function J(e,t,l,a,n,r){return(0,o.wg)(),(0,o.iD)("div",W,[l.label?((0,o.wg)(),(0,o.iD)("label",Y,(0,s.zw)(l.label),1)):(0,o.kq)("",!0),(0,o._)("textarea",{ref:"input",class:"textArea block p-2 w-full h-full text-lg rounded-lg text-gray-500 dark:text-white dark:bg-gray-700 border border-cvblue dark:border-gray-600 dark:placeholder-gray-400 focus:ring-indigo-500 dark:focus:ring-indigo-500 focus:border-blue-500 dark:focus:border-blue-500",id:l.inputId,style:(0,s.j5)(a.textareaStyle),value:l.value,placeholder:l.placeholder,autofocus:"",tabindex:l.tabIndex,onChange:t[0]||(t[0]=(...e)=>a.onChange&&a.onChange(...e)),onInput:t[1]||(t[1]=(...e)=>a.onInput&&a.onInput(...e)),onFocus:t[2]||(t[2]=(...e)=>a.onFocus&&a.onFocus(...e)),onBlur:t[3]||(t[3]=(...e)=>a.onBlur&&a.onBlur(...e)),onKeydown:[t[4]||(t[4]=(0,Z.D2)(((...e)=>a.onAbort&&a.onAbort(...e)),["esc"])),t[5]||(t[5]=(0,Z.D2)(((...e)=>a.onTab&&a.onTab(...e)),["tab"])),t[6]||(t[6]=(...e)=>a.onKeydown&&a.onKeydown(...e))],disabled:l.isDisabled},null,44,U),l.hint?((0,o.wg)(),(0,o.iD)("p",V,(0,s.zw)(l.hint),1)):(0,o.kq)("",!0)])}var N=l(2262),R=l(4495);function $(e,{margins:t=!1,borders:l=!1}){e="string"===typeof e?document.querySelector(e):e;let o=e.scrollHeight;const s=window.getComputedStyle(e),a=parseFloat(s["marginTop"])+parseFloat(s["marginBottom"]);t&&(o+=a);const n=parseFloat(s["borderTop"])+parseFloat(s["borderBottom"]);return l&&(o+=n),o}var Q={name:"TextArea",emits:["abort","change","input","delete"],props:{minLines:{type:Number,default:3,validate:e=>(0,R.hj)(e)&&e>0},isDisabled:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},label:{type:String,default:""},tabIndex:{type:Number,default:1},hint:{type:String,default:""},inputId:{type:String,default:""},value:{default:""},nextOnTab:{type:Boolean,default:!0},placeholder:{type:String,default:""}},setup(e,{emit:t}){const l=(0,o.Fl)((()=>e.isFocused)),s=(0,N.iH)(null),a=(0,N.iH)(e.value),n=(0,o.Fl)((()=>s.value?.value)),r=(0,o.Fl)((()=>({minHeight:`${e.minLines||1}rem`}))),i=()=>{t("abort",a.value),v()},d=e=>{t("change",e.target.value),v()},u=e=>{t("change",e.target.value),v()},c=()=>{v()},p=e=>{t("input",e.target.value),v()},g=t=>{if(e.nextOnTab)return;t.preventDefault();const l=s.value;let o=l.selectionStart,a=l.selectionEnd;l.value=l.value.substring(0,o)+"\t"+l.value.substring(a),l.selectionEnd=l.selectionStart=o+1},v=()=>{const e=s.value;if(e){const t=$(e,{borders:!0});e.style.height=`${t}px`}};(0,o.YP)(n,(()=>v()),{immediate:!0}),(0,o.YP)(l,(e=>{s.value&&e&&(0,o.Y3)((()=>{s.value.focus(),v()}))}),{immediate:!0});const h=e=>{const l="Backspace"===e.key||8===e.keyCode||"Backspace"===e.code,o=""===e.target.value;l&&o&&t("delete")};return{input:s,onAbort:i,onBlur:d,onChange:u,onFocus:c,onInput:p,onKeydown:h,onTab:g,textareaStyle:r}}},G=l(3744);const X=(0,G.Z)(Q,[["render",J],["__scopeId","data-v-3439d1cc"]]);var ee=X,te=l(5581),le=l(8332);const oe={class:"relative"},se=(0,o._)("svg",{class:"mt-1 ml-1 w-4 h-4","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),ae={class:"z-10 w-full bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700",style:{position:"absolute",inset:"0px auto auto 0px",margin:"0px",transform:"translate3d(0px, 44px, 0px)"}},ne={class:"text-sm text-gray-700 dark:text-gray-200"},re=["id"];function ie(e,t,l,a,n,r){return(0,o.wg)(),(0,o.iD)("div",oe,[((0,o.wg)(),(0,o.iD)("button",{class:(0,s.C_)(["dropdown flex flex-1 justify-center border-white border-opacity-10 border rounded-xl font-medium bg-white bg-opacity-10 hover:bg-opacity-100",{"toggleButton--active":!!a.selectedValue()}]),type:"button",key:r.dropdown,onClick:t[0]||(t[0]=(0,Z.iM)((e=>a.toggle(e)),["stop"]))},[(0,o.Uk)((0,s.zw)(a.selectedValue()||l.titleOfDropdown||"More Options")+" ",1),se],2)),(0,o.wy)((0,o._)("div",ae,[(0,o._)("ul",ne,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.items,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e,onClick:t[1]||(t[1]=(0,Z.iM)(((...e)=>a.onClick&&a.onClick(...e)),["stop"]))},[(0,o._)("div",{id:e,class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},(0,s.zw)(e),9,re)])))),128))])],512),[[Z.F8,a.show]])])}const de={class:"dropdown relative"},ue=(0,o._)("svg",{class:"ml-2 w-4 h-4","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),ce={class:"z-10 w-56 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700",style:{position:"absolute",inset:"0px auto auto 0px",margin:"0px",transform:"translate3d(0px, 44px, 0px)"}},pe={class:"py-1 text-sm text-gray-700 dark:text-gray-200"},ge=["onClick"],ve=["id"],he=["value","disabled"],we={class:"ml-2"};function me(e,t,l,a,n,r){return(0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("button",{class:"button dropdown",type:"button",onClick:t[0]||(t[0]=(0,Z.iM)((e=>a.toggle(e)),["stop"]))},[(0,o.Uk)((0,s.zw)(l.title||"Select items")+" ",1),ue]),(0,o.wy)((0,o._)("div",ce,[(0,o._)("ul",pe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.items,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e,onClick:(0,Z.iM)((t=>a.onClick(e)),["stop"])},[(0,o._)("div",{id:e,class:"flex items-center py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"rounded text-blue-500 focus:ring-blue-500",value:e,"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedItems=e),disabled:"All"===e&&a.selectedItems.includes("All")},null,8,he),[[Z.e8,a.selectedItems]]),(0,o._)("span",we,(0,s.zw)(e.name),1)],8,ve)],8,ge)))),128))])],512),[[Z.F8,a.show]])])}var fe={name:"Dropdown",emits:["select"],props:{title:{type:String},items:{type:Array,required:!0,validator:e=>Array.isArray(e)&&e.reduce(((e,t)=>e&&(0,R.HD)(t)),!0)}},setup(e,{emit:t}){const l=(0,N.iH)(!1),s=(0,N.iH)([]),a=l=>{const o=s.value.indexOf(l);if("All"===l)s.value=-1===o?[...e.items]:[];else{-1===o?s.value.push(l):s.value.splice(o,1);const e=s.value.indexOf("All");-1!==e&&s.value.splice(e,1)}t("select",s.value)},n=()=>{l.value=!1},r=e=>{const t=e.target.closest(".dropdown.relative");t||n()};(0,o.bv)((()=>{document.addEventListener("click",r)})),(0,o.Jd)((()=>{document.removeEventListener("click",r)}));const i=()=>{l.value=!l.value};return{onClick:a,show:l,toggle:i,selectedItems:s}}};const ye=(0,G.Z)(fe,[["render",me]]);var xe=ye,be={name:"DropdownSingle",computed:{dropdown(){return xe}},emits:["select"],props:{selected:{type:String},titleOfDropdown:{type:String},items:{type:Array,required:!0,validator:e=>Array.isArray(e)&&e.reduce(((e,t)=>e&&(0,R.HD)(t)),!0)},disable:{type:Boolean}},setup(e,{emit:t}){function l(){return e.selected}const s=(0,N.iH)(!1),a=e=>{e.preventDefault(),s.value=!1,console.log("e.target.id",e.target.id),t("select",e.target.id)},n=()=>{s.value=!1},r=e=>{const t=e.target.closest(".dropdown.relative");t||n()};(0,o.bv)((()=>{document.addEventListener("click",r)})),(0,o.Jd)((()=>{document.removeEventListener("click",r)}));const i=()=>{s.value=!s.value};return{onClick:a,show:s,toggle:i,selectedValue:l}}};const ke=(0,G.Z)(be,[["render",ie]]);var _e=ke,De=l(5288);const Ce={class:"w-5 h-5"},He=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"100%",height:"100%",viewBox:"-51.2 -51.2 614.43 614.43",fill:"#ffffff",stroke:"#ffffff"},[(0,o._)("g",null,[(0,o._)("path",{d:"M506.817,248.355L11.883,0.888C8.47-0.819,5.057,0.035,2.497,2.595c-2.56,3.413-3.413,7.68-0.853,10.24l158.72,243.2 l-158.72,243.2c-1.707,3.413-1.707,7.68,0.853,10.24c0.853,1.707,3.413,2.56,5.973,2.56c1.707,0,2.56,0,3.413-0.853 l494.933-247.467c3.413-1.707,5.12-4.267,5.12-7.68S509.377,250.061,506.817,248.355z M33.217,482.168l145.067-221.013 c1.707-2.56,1.707-6.827,0-9.387L33.217,30.755l451.413,225.28L33.217,482.168z"})])],-1),qe=[He];function Ae(e,t,l,s,a,n){return(0,o.wg)(),(0,o.iD)("div",Ce,qe)}var Se={name:"ArrowIcon"};const Ie=(0,G.Z)(Se,[["render",Ae]]);var Be=Ie,Fe=l(1120),ze={name:"PromptPDf",components:{ArrowIcon:Be,DropdownSingle:_e,Button:te.Z,TextArea:ee},setup(){(0,De.K)(),console.log(document.cookie,"cookie");const e=(0,N.iH)(""),t=(0,N.iH)(""),l=(0,N.iH)(!1),s=(0,N.iH)(!1),a=(0,N.iH)(""),n=(0,N.iH)(""),r=(0,N.qj)({questions:[],answers:[],sourceDocuments:[],authors:[],titles:[]}),i=(0,N.qj)({});let d=(0,N.iH)([]);(0,o.bv)((()=>{console.log("mounted"),le.O.get("/get-files/",{headers:{"Content-Type":"application/json"}}).then((e=>{d.value=e.data,console.log(e)})).catch((e=>{console.log(e)}))}));const u=(0,N.iH)({llm_temperature:0,llm_model:"gpt-4"}),c=e=>{u.value.llm_temperature=e.target.value},p=e=>{u.value.llm_model=e},g=(0,N.iH)(!1),v=t=>{e.value=t},h=e=>{t.value=e||""},w=e=>{r.questions.splice(e,1),r.answers.splice(e,1),r.sourceDocuments.splice(e,1)};document.body.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&y()}));const m=(0,o.Fl)((()=>r.questions.slice())),f=()=>{Fe.Z.push("/")},y=async()=>{if(""===e.value)return;r.questions.push(e.value),g.value=!0;const o={query:e.value,settings:u.value,system_prompt:t.value};s.value=!0,l.value=!0,console.log(document.cookie,"cookie in send request"),le.O.post("/ask-query/",o,{headers:{"Content-Type":"application/json"}}).then((t=>{console.log(t),a.value=t.data,console.log(a.value,"answer"),s.value=!1;for(let e=0;e<d.value.length;e++)r.answers.push(a.value[e].result),r.sourceDocuments.push(a.value[e].source_documents),r.authors.push(a.value[e].author),r.titles.push(a.value[e].title);g.value=!1,e.value="",N.iH.question.value="",console.log(r,"question list")})).catch((e=>{e.value=e.response,g.value=!1}))};return{answer:a,has_answer:l,query:e,sendRequest:y,onChange:v,questionList:r,loading:g,chat:m,tempChange:c,settings:u,modelChange:p,onSystemPromptChange:h,systemPrompt:t,error:n,files:d,tabClosed:i,deleteQuestion:w,goHome:f}}};const Te=(0,G.Z)(ze,[["render",E],["__scopeId","data-v-66d5fa24"]]);var je=Te}}]);
//# sourceMappingURL=928.57d5a932.js.map