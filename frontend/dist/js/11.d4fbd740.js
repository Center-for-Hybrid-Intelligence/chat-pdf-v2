"use strict";(self["webpackChunkchat_pdf"]=self["webpackChunkchat_pdf"]||[]).push([[11],{8562:function(e,t,a){a.r(t),a.d(t,{default:function(){return ee}});var n=a(6252),l=a(3577),r=a(9963);const o=e=>((0,n.dD)("data-v-49b90ab0"),e=e(),(0,n.Cn)(),e),i={class:"bg-gradient-to-b to-gray-50 min-h-screen from-blue-200 flex flex-col items-center pt-24 max-w-screen"},s={class:"max-w-6xl w-full"},u={class:"flex flex-col gap-8 items-center transition-all w-full"},d=o((()=>(0,n._)("h1",{class:"block text-3xl h8:text-5xl k15:text-6xl font-bold transition-all text-gray-700 px-10",for:"files"}," Chat with your PDFs ",-1))),c=o((()=>(0,n._)("p",{class:"block max-w-xl k1:text-2xl text-md px-10 text-gray-500 transition-all",for:"files"}," Get quick answers and uncover insights from your documents with the magic of AI. ",-1))),p={for:"files"},h={class:"flex gap-6 flex-col justify-center items-center"},g=(0,n.uE)('<svg class="w-10 h-10 text-blue-500 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18" data-v-49b90ab0><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 10h3.439a.991.991 0 0 1 .908.6 3.978 3.978 0 0 0 7.306 0 .99.99 0 0 1 .908-.6H17M1 10v6a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-6M1 10l2-9h12l2 9" data-v-49b90ab0></path></svg><span class="flex gap-2 bg-blue-600 group-hover:bg-blue-800 transition-all duration-300 text-white justify-center font-extrabold k1:text-lg text-xs p-4 k1:px-12 px-6 rounded-full color cursor-pointer" data-v-49b90ab0><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3.0" stroke="currentColor" class="k1:w-6 k1:h-6 w-3 h-3" data-v-49b90ab0><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" data-v-49b90ab0></path></svg> Upload PDFs </span>',2),f=o((()=>(0,n._)("div",{class:"flex justify-center"},[(0,n._)("div",null," Or drop your PDF files here ")],-1))),v={class:"flex items-center justify-center w-full"},w={class:"flex gap-2 rounded-lg absolute left-0 w-full bg-slate-50 rounded-t-lg"},m={class:"flex justify-between p-2 gap-2 break-all w-full whitespace-pre-wrap items-start"},x={class:"text-sm"},b=["onClick"],y=o((()=>(0,n._)("svg",{class:"w-4 h-4 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20"},[(0,n._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"})],-1))),k=[y],_=["src"],D={class:"flex items-center justify-center w-full"},C={key:0,class:"border-4 w-4/5 k1:w-3/5 flex-col gap-2 border-transparent p-8 bg-white rounded-xl shadow-gray-300 shadow-2xl"},S=o((()=>(0,n._)("h1",{class:"heading2"}," Customize your request ",-1))),j={class:"heading4 flex"},U={class:"w-10 heading4"},L=o((()=>(0,n._)("h1",{class:"normalText"},"Average length in tokens of the pieces of text that will be extracted and retrieve from your document. small sentences: less than 30, big paragraphs: 400",-1))),R=["value"],z={class:"heading4 flex"},F={class:"w-10 heading4"},T=o((()=>(0,n._)("h1",{class:"normalText"},"overlap in tokens between the piece of text extracted from your document",-1))),H=["value"],M={key:0,class:""},A=o((()=>(0,n._)("h1",{class:"heading4 flex"}," Your namespace ",-1))),O=o((()=>(0,n._)("h1",{class:"normalText"},"Please enter your namespace if you want to continue your work. If you want to start new process you can generate and click to copy it so you can come back to your progress later!",-1))),V={class:"flex flex-col mt-3 h8:mt-0 gap-2 h8:gap-0 h8:flex-row h8:justify-center"},E=["value"],I={key:0},P={key:1},Z={key:0},B={key:0,class:"loading"};function q(e,t,a,o,y,q){const N=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",s,[(0,n._)("div",u,[d,c,(0,n._)("div",{class:"flex gap-2 flex-col justify-center border-4 border-transparent p-2 bg-white rounded-xl shadow-gray-300 shadow-2xl w-4/5",onDragenter:t[1]||(t[1]=(...e)=>o.handleDragEnter&&o.handleDragEnter(...e)),onDragover:t[2]||(t[2]=(...e)=>o.handleDragOver&&o.handleDragOver(...e)),onDragleave:t[3]||(t[3]=(...e)=>o.handleDragLeave&&o.handleDragLeave(...e)),onDrop:t[4]||(t[4]=(...e)=>o.handleDrop&&o.handleDrop(...e))},[(0,n._)("label",p,[(0,n._)("div",{class:(0,l.C_)(["flex border p-6 py-12 hover:border-blue-500 group hover:bg-slate-100 transition-all duration-300 border-dotted bg-slate-50 rounded-lg flex-col justify-center",{"opacity-50 border-blue-500 bg-slate-200":o.isDragging}])},[(0,n._)("div",h,[g,(0,n._)("input",{type:"file",id:"files",name:"files",accept:"pdf/*",class:"hidden",onChange:t[0]||(t[0]=(...e)=>o.onFileChange&&o.onFileChange(...e)),multiple:""},null,32)]),f],2)])],32)]),(0,n._)("div",v,[(0,n.Wm)(r.W3,{name:"list",class:"grid grid-cols-3 justify-center gap-4 py-6 w-4/5",tag:"div"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.files,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"pdf-preview relative bg-slate-50 shadow-md px-2 pb-2 rounded-lg"},[(0,n._)("div",w,[(0,n._)("div",m,[(0,n._)("h2",x,(0,l.zw)(e.name),1),(0,n._)("button",{class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded max-h-12",onClick:e=>o.deleteFile(t)},k,8,b)])]),(0,n._)("iframe",{src:e.previewURL,width:"100%",height:"400"},null,8,_)])))),128))])),_:1})]),(0,n._)("div",D,[o.files.length>0?((0,n.wg)(),(0,n.iD)("div",C,[S,(0,n._)("h1",j,[(0,n.Uk)(" Chunk size ( "),(0,n._)("div",U,(0,l.zw)(o.settings.chunk_size||2.5),1),(0,n.Uk)(" / 800) ")]),L,(0,n._)("input",{min:"10",max:"800",step:"1",type:"range",value:o.settings.chunk_size,onInput:t[5]||(t[5]=e=>o.updateSettingsValue("chunk_size",e.target.value)),class:"slider mt-4",id:"weightSlider"},null,40,R),(0,n._)("h1",z,[(0,n.Uk)(" Chunk overlap ( "),(0,n._)("div",F,(0,l.zw)(o.settings.chunk_overlap||2.5),1),(0,n.Uk)(" / 80) ")]),T,(0,n._)("input",{min:"0",max:"80",step:"1",type:"range",value:o.settings.chunk_overlap,onInput:t[6]||(t[6]=e=>o.updateSettingsValue("chunk_overlap",e.target.value)),class:"slider mt-4",id:"weightSlider"},null,40,H),o.files.length>0?((0,n.wg)(),(0,n.iD)("div",M,[A,O,(0,n._)("div",V,[(0,n.Wm)(N,{class:"button bg-gray-800 rounded rounded-2xl rounded-r-none p-2 px-6 text-xl font-bold h8:self-center transition-all duration-300",onClick:o.generateAndCopyToClipboard},{right:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(o.generated?"Copied":"Generate & Copy"),1)])),_:1},8,["onClick"]),(0,n._)("input",{value:o.nameSpaceRender,onInput:t[7]||(t[7]=e=>o.nameSpaceRender=e.target.value),type:"text",placeholder:"Enter Namespace",class:"px-2 py-1 h8:flex-grow h8:flex-1 w-max border border-gray-400 w-max focus:outline-none"},null,40,E),(0,n.Wm)(N,{onClick:o.onsubmit,isDisabled:""===o.nameSpaceRender||o.loading,class:(0,l.C_)([{"text-black/20":""===o.nameSpaceRender," text-white":""!==o.nameSpaceRender},"button flex-0 p-2 px-6 text-xl font-bold h8:self-center rounded-r-lg rounded-l-none transition-all duration-300"])},{right:(0,n.w5)((()=>[o.loading?((0,n.wg)(),(0,n.iD)("div",I,"Loading")):((0,n.wg)(),(0,n.iD)("div",P,"Submit"))])),_:1},8,["onClick","isDisabled","class"])]),o.uploadFailed?((0,n.wg)(),(0,n.iD)("div",Z,(0,l.zw)(o.errorMessage),1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])]),o.loading?((0,n.wg)(),(0,n.iD)("div",B,"Loadingâ€¦")):(0,n.kq)("",!0)])}a(8858),a(1318),a(3228),a(560);var N=a(2262),W=a(1120),G=a(8332),K=a(5581),Y=a(5288),J=a(7632),Q={name:"FileUpload",components:{Button:K.Z},props:{value:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:t}){(0,Y.K)();const a=(0,N.iH)(!1),n=(0,N.iH)(e.value),l=(0,N.iH)(!1),r=(0,N.iH)(!1),o=(0,N.iH)(""),i=(0,N.iH)([]),s=(0,N.iH)(""),u=(0,N.iH)(!1),d=(0,N.iH)({chunk_size:400,chunk_overlap:50}),c=(e,t)=>{d.value[e]=t,console.log(d.value)},p=e=>{e.preventDefault(),l.value=!0},h=e=>{e.preventDefault(),l.value=!0},g=()=>{l.value=!1},f=()=>{s.value=(0,J.Z)(),v(s.value)},v=async e=>{try{await navigator.clipboard.writeText(e),setTimeout((()=>{u.value=!1}),700),u.value=!0}catch(t){s.value="Failed to copy text: "+t}},w=e=>{e.preventDefault(),l.value=!1;const a=e.dataTransfer.files;for(let l=0;l<a.length;l++){const e=a[l];if("application/pdf"===e.type){const t=new FormData;t.append("file",e),t.append("name",e.name),t.append("documentId",(0,J.Z)());const a=new Blob([e],{type:"application/pdf"}),l=URL.createObjectURL(a);n.value.push({formData:t,author:"",name:e.name,previewURL:l})}t("update:modelValue",n)}},m=e=>{const a=e.target.files;for(let l=0;l<a.length;l++){const e=a[l];if("application/pdf"===e.type){const t=new FormData;t.append("file",e),t.append("name",e.name),t.append("documentId",(0,J.Z)());const a=new Blob([e],{type:"application/pdf"}),l=URL.createObjectURL(a);n.value.push({formData:t,author:"",name:e.name,previewURL:l})}t("update:modelValue",n)}},x=async()=>{r.value=!1,a.value=!0;const e=[];for(let a=0;a<n.value.length;a++){const t=n.value[a].formData,l=n.value[a].author;t.append("author",l),t.append("namespace",s.value),t.append("settings",JSON.stringify(d.value)),e.push(t)}try{for(const t of e)await G.O.post("/load-pdf/",t,{headers:{"Content-Type":"multipart/form-data"}});a.value=!1,W.Z.push({name:"promptPDF",params:{namespace:s.value}})}catch(t){console.error(t),a.value=!1,r.value=!0,o.value=t.response}},b=e=>{n.value.splice(e,1),t("update:modelValue",n.value)};return{files:n,onFileChange:m,deleteFile:b,isDragging:l,handleDragEnter:p,handleDragOver:h,handleDragLeave:g,handleDrop:w,onsubmit:x,loading:a,uploadFailed:r,errorMessage:o,settings:d,updateSettingsValue:c,nameSpaceRender:s,copyToClipboard:v,generateAndCopyToClipboard:f,generated:u,previewList:i}}},X=a(3744);const $=(0,X.Z)(Q,[["render",q],["__scopeId","data-v-49b90ab0"]]);var ee=$},926:function(e,t,a){var n=a(3043),l=a(9985),r=a(6648),o=a(4201),i=o("toStringTag"),s=Object,u="Arguments"===r(function(){return arguments}()),d=function(e,t){try{return e[t]}catch(a){}};e.exports=n?r:function(e){var t,a,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=d(t=s(e),i))?a:u?r(t):"Object"===(n=r(t))&&l(t.callee)?"Arguments":n}},2148:function(e,t,a){var n=a(8702),l=a(2560);e.exports=function(e,t,a){return a.get&&n(a.get,t,{getter:!0}),a.set&&n(a.set,t,{setter:!0}),l.f(e,t,a)}},3043:function(e,t,a){var n=a(4201),l=n("toStringTag"),r={};r[l]="z",e.exports="[object z]"===String(r)},4327:function(e,t,a){var n=a(926),l=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return l(e)}},1500:function(e){var t=TypeError;e.exports=function(e,a){if(e<a)throw new t("Not enough arguments");return e}},8858:function(e,t,a){var n=a(1880),l=a(8844),r=a(4327),o=a(1500),i=URLSearchParams,s=i.prototype,u=l(s.append),d=l(s["delete"]),c=l(s.forEach),p=l([].push),h=new i("a=1&a=2&b=3");h["delete"]("a",1),h["delete"]("b",void 0),h+""!=="a=2"&&n(s,"delete",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var n=[];c(this,(function(e,t){p(n,{key:t,value:e})})),o(t,1);var l,i=r(e),s=r(a),h=0,g=0,f=!1,v=n.length;while(h<v)l=n[h++],f||l.key===i?(f=!0,d(this,l.key)):g++;while(g<v)l=n[g++],l.key===i&&l.value===s||u(this,l.key,l.value)}),{enumerable:!0,unsafe:!0})},1318:function(e,t,a){var n=a(1880),l=a(8844),r=a(4327),o=a(1500),i=URLSearchParams,s=i.prototype,u=l(s.getAll),d=l(s.has),c=new i("a=1");!c.has("a",2)&&c.has("a",void 0)||n(s,"has",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var n=u(this,e);o(t,1);var l=r(a),i=0;while(i<n.length)if(n[i++]===l)return!0;return!1}),{enumerable:!0,unsafe:!0})},3228:function(e,t,a){var n=a(7697),l=a(8844),r=a(2148),o=URLSearchParams.prototype,i=l(o.forEach);n&&!("size"in o)&&r(o,"size",{get:function(){var e=0;return i(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=11.d4fbd740.js.map